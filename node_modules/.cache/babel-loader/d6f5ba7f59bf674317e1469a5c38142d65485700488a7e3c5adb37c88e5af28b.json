{"ast":null,"code":"var _jsxFileName = \"/home/sysop/capstone/src/MainMenu/Login/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Css/LoginButton.css\"; // CSS 파일 import\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  useEffect(() => {\n    const loggedIn = sessionStorage.getItem(\"isLoggedIn\");\n    if (loggedIn) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n  const handleLoginClick = () => {\n    navigate(\"/login\");\n  };\n  const handleRegisterClick = () => {\n    navigate(\"/register\");\n  };\n  const handleLogoutClick = () => {\n    sessionStorage.removeItem(\"isLoggedIn\");\n    sessionStorage.removeItem(\"nickname\");\n    sessionStorage.removeItem(\"username\");\n    setIsLoggedIn(false);\n    alert(\"성공적으로 로그아웃 되었습니다!\");\n    window.location.reload(); // 페이지 새로고침 추가\n  };\n  const handleDeleteAccountClick = () => {\n    const username = sessionStorage.getItem(\"username\"); // 저장된 사용자 이름 가져오기\n    const password = prompt(\"비밀번호를 입력하세요:\"); // 비밀번호 입력 받기\n\n    fetch(\"/delete_account\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        password\n      })\n    }).then(response => response.json()).then(data => {\n      if (data.message === \"회원 탈퇴가 완료되었습니다.\") {\n        sessionStorage.clear();\n        alert(\"회원 탈퇴가 완료되었습니다.\");\n        window.location.reload(); // 페이지 새로고침 추가\n      } else {\n        alert(\"회원 탈퇴에 실패하였습니다: \" + data.message);\n      }\n    }).catch(error => {\n      console.error(\"Error:\", error);\n    });\n  };\n  const handleUpdateProfileClick = () => {\n    navigate(\"/update-profile\");\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleLogoutClick,\n        children: \"\\uB85C\\uADF8\\uC544\\uC6C3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleUpdateProfileClick,\n        children: \"\\uD68C\\uC6D0\\uC218\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleDeleteAccountClick,\n        children: \"\\uD68C\\uC6D0\\uD0C8\\uD1F4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleLoginClick,\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button\",\n        onClick: handleRegisterClick,\n        children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"ByRb0k4YO4RAgY8aI0kHhVwbeVA=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","Login","_s","navigate","isLoggedIn","setIsLoggedIn","loggedIn","sessionStorage","getItem","handleLoginClick","handleRegisterClick","handleLogoutClick","removeItem","alert","window","location","reload","handleDeleteAccountClick","username","password","prompt","fetch","method","headers","body","JSON","stringify","then","response","json","data","message","clear","catch","error","console","handleUpdateProfileClick","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/sysop/capstone/src/MainMenu/Login/Login.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Css/LoginButton.css\"; // CSS 파일 import\n\nconst Login = () => {\n  const navigate = useNavigate();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    const loggedIn = sessionStorage.getItem(\"isLoggedIn\");\n    if (loggedIn) {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  const handleLoginClick = () => {\n    navigate(\"/login\");\n  };\n\n  const handleRegisterClick = () => {\n    navigate(\"/register\");\n  };\n\n  const handleLogoutClick = () => {\n    sessionStorage.removeItem(\"isLoggedIn\");\n    sessionStorage.removeItem(\"nickname\");\n    sessionStorage.removeItem(\"username\");\n    setIsLoggedIn(false);\n    alert(\"성공적으로 로그아웃 되었습니다!\");\n    window.location.reload(); // 페이지 새로고침 추가\n  };\n\n  const handleDeleteAccountClick = () => {\n    const username = sessionStorage.getItem(\"username\"); // 저장된 사용자 이름 가져오기\n    const password = prompt(\"비밀번호를 입력하세요:\"); // 비밀번호 입력 받기\n\n    fetch(\"/delete_account\", {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({ username, password }),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data.message === \"회원 탈퇴가 완료되었습니다.\") {\n          sessionStorage.clear();\n          alert(\"회원 탈퇴가 완료되었습니다.\");\n          window.location.reload(); // 페이지 새로고침 추가\n        } else {\n          alert(\"회원 탈퇴에 실패하였습니다: \" + data.message);\n        }\n      })\n      .catch((error) => {\n        console.error(\"Error:\", error);\n      });\n  };\n\n  const handleUpdateProfileClick = () => {\n    navigate(\"/update-profile\");\n  };\n\n  return (\n    <div>\n      {isLoggedIn ? (\n        <>\n          <button className=\"button\" onClick={handleLogoutClick}>\n            로그아웃\n          </button>\n          <button className=\"button\" onClick={handleUpdateProfileClick}>\n            회원수정\n          </button>\n          <button className=\"button\" onClick={handleDeleteAccountClick}>\n            회원탈퇴\n          </button>\n        </>\n      ) : (\n        <>\n          <button className=\"button\" onClick={handleLoginClick}>\n            로그인\n          </button>\n          <button className=\"button\" onClick={handleRegisterClick}>\n            회원가입\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Login;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,uBAAuB,CAAC,CAAC;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEhC,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EAEnDD,SAAS,CAAC,MAAM;IACd,MAAMY,QAAQ,GAAGC,cAAc,CAACC,OAAO,CAAC,YAAY,CAAC;IACrD,IAAIF,QAAQ,EAAE;MACZD,aAAa,CAAC,IAAI,CAAC;IACrB;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,gBAAgB,GAAGA,CAAA,KAAM;IAC7BN,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EAED,MAAMO,mBAAmB,GAAGA,CAAA,KAAM;IAChCP,QAAQ,CAAC,WAAW,CAAC;EACvB,CAAC;EAED,MAAMQ,iBAAiB,GAAGA,CAAA,KAAM;IAC9BJ,cAAc,CAACK,UAAU,CAAC,YAAY,CAAC;IACvCL,cAAc,CAACK,UAAU,CAAC,UAAU,CAAC;IACrCL,cAAc,CAACK,UAAU,CAAC,UAAU,CAAC;IACrCP,aAAa,CAAC,KAAK,CAAC;IACpBQ,KAAK,CAAC,mBAAmB,CAAC;IAC1BC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;EAC5B,CAAC;EAED,MAAMC,wBAAwB,GAAGA,CAAA,KAAM;IACrC,MAAMC,QAAQ,GAAGX,cAAc,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAAC;IACrD,MAAMW,QAAQ,GAAGC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC;;IAEzCC,KAAK,CAAC,iBAAiB,EAAE;MACvBC,MAAM,EAAE,QAAQ;MAChBC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAER,QAAQ;QAAEC;MAAS,CAAC;IAC7C,CAAC,CAAC,CACCQ,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;MACd,IAAIA,IAAI,CAACC,OAAO,KAAK,iBAAiB,EAAE;QACtCxB,cAAc,CAACyB,KAAK,CAAC,CAAC;QACtBnB,KAAK,CAAC,iBAAiB,CAAC;QACxBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAAC;MAC5B,CAAC,MAAM;QACLH,KAAK,CAAC,kBAAkB,GAAGiB,IAAI,CAACC,OAAO,CAAC;MAC1C;IACF,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;MAChBC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAChC,CAAC,CAAC;EACN,CAAC;EAED,MAAME,wBAAwB,GAAGA,CAAA,KAAM;IACrCjC,QAAQ,CAAC,iBAAiB,CAAC;EAC7B,CAAC;EAED,oBACEL,OAAA;IAAAuC,QAAA,EACGjC,UAAU,gBACTN,OAAA,CAAAE,SAAA;MAAAqC,QAAA,gBACEvC,OAAA;QAAQwC,SAAS,EAAC,QAAQ;QAACC,OAAO,EAAE5B,iBAAkB;QAAA0B,QAAA,EAAC;MAEvD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT7C,OAAA;QAAQwC,SAAS,EAAC,QAAQ;QAACC,OAAO,EAAEH,wBAAyB;QAAAC,QAAA,EAAC;MAE9D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT7C,OAAA;QAAQwC,SAAS,EAAC,QAAQ;QAACC,OAAO,EAAEtB,wBAAyB;QAAAoB,QAAA,EAAC;MAE9D;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACT,CAAC,gBAEH7C,OAAA,CAAAE,SAAA;MAAAqC,QAAA,gBACEvC,OAAA;QAAQwC,SAAS,EAAC,QAAQ;QAACC,OAAO,EAAE9B,gBAAiB;QAAA4B,QAAA,EAAC;MAEtD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eACT7C,OAAA;QAAQwC,SAAS,EAAC,QAAQ;QAACC,OAAO,EAAE7B,mBAAoB;QAAA2B,QAAA,EAAC;MAEzD;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACT;EACH;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACzC,EAAA,CApFID,KAAK;EAAA,QACQL,WAAW;AAAA;AAAAgD,EAAA,GADxB3C,KAAK;AAsFX,eAAeA,KAAK;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}